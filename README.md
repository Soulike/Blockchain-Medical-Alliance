# 区块链医疗联盟 - 前端

## 简介

区块链医疗联盟前端部分，使用 React 编写。

## 协作方式

**目前 master 分支已经设置为保护状态，无法直接向 master 分支进行推送。**

对代码的所有更改遵循以下步骤：

1. 新建一个分支进行开发；
2. 将所有的更改推送到分支上；
3. 在分支的开发目标完成且进行初步测试后，提交 Pull Request；
4. 经过互相 Review 后 Merge 到主分支（主要是检查有没有错误、BUG 以及语法不规范的情况，当然像编辑文档这样不太要紧的也可以自行 Merge）；
5. 删除开发使用的分支。

每个分支完成的功能不要太大，一个分支尽量只解决一个问题，或完成一个功能，这样有助于提高代码质量。

## 使用组件

项目主要使用以下组件：

- create-react-app@最新版本
- react@最新版本
- react-dom@最新版本
- redux@最新版本
- react-redux@最新版本
- **react-router@3.2.0**

关于 react-router，因为我刚开始学的是版本 3，在我学会用之后不久就出了 4，3 和 4 是互相不兼容的，写法差别巨大。我更喜欢用 3，所以这里用的也是 3。在查阅资料的时候注意区分。

## 模块化风格

一般来讲，所有的 `import` 语句或 `require` 函数都应当**导入一个文件夹**（事实上会自动寻找 `index.js`），尽量避免导入一个具体的文件。

例如：

- 好的导入（导入了一个文件夹）
```js
import {getAsync} from './Function';
```
- 不太好的导入（导入了一个具体的文件）
```js
import {getAsync} from './Function/Net';
```

**为什么后者不太好呢？**

设想一种情况，我在以后的开发当中需要把 `getAsync` 函数移动到 Function 文件夹下另外一个文件中。 

- 如果导入函数使用的是具体文件，这个问题解决起来就十分麻烦，需要对所有引用逐个修改（摔）。
- 如果导入函数使用的是文件夹，我就只修改 `index.js` 文件就可以了。而且在当前的设计中，我们甚至都不需要修改。

一个文件夹应当自成模块，对外仅仅暴露一个 `index.js`，这样模块内部的结构调整对外部不会有影响。

在现有的代码中应当可以看出这种编码风格。

## React 组件文件结构

以下是本人惯用的 React 组件文件夹结构（参考自《深入浅出 React & Redux》）

Redux 不一定用得上，在这里先列举出来，可以以后慢慢理解。

```
|-Actions               // 可选，文件夹
  |--Actions.js         // 可选，存放 Actions
  |--ActionTypes.js     // 可选，存放 Action 类型常量
|-Components            // 可选，存放子组件的文件夹，里面的结构与这里写的相同
|-Function.js           // 可选，存放该组件可供调用的方法（很多时候是对 Action 再次进行包装）
|-View.js               // 必须，存放组件渲染的视图（View）与大部分逻辑功能
|-index.js              // 必须，对外暴露 View、Function 和 Reducer
|-Style.module.scss     // 必须，存放组件的所有样式
|-Reducer.js            // 可选，存放该组件的 Reducer
```

项目中的大部分文件夹与文件我都在里面放了注释或 README，说明了功能与用法。有不明白的可以随时联系我，我再进行解释。